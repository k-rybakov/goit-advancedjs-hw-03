{"version":3,"file":"index.js","sources":["../src/js/pixaby-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46595178-4dac5182a4d6048d037515019';\nconst url = 'https://pixabay.com/api/?';\n\nconst findPhotos = async search => {\n  const options = {\n    key: API_KEY,\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  const queryString = new URLSearchParams(options).toString();\n  const searhUrl = url + queryString;\n  const response = await fetch(searhUrl);\n  return response.json();\n};\n\nexport default findPhotos;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst notFound =\n  'Sorry, there are no images matching your search query. Please try again!';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionSelector: 'img',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nconst loader = document.querySelector('.loader');\n\niziToast.settings({\n  position: 'topRight',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n});\n\nexport const renderGallery = images => {\n  if (images.length == 0) {\n    iziToast.error({\n      message: notFound,\n      position: 'topRight',\n    });\n    return;\n  }\n\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n\n  const html = images\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img\n                class=\"gallery-image\"\n                src=\"${image.webformatURL}\"\n                alt=\"${image.tags}\"\n            />\n        <div class=\"gallery-footer\">\n          <div class=\"footer-item\">\n            <span class=\"item-title\">Likes</span>\n            <span class=\"item-value\">${image.likes}</span>\n          </div>\n          <div class=\"footer-item\">\n            <span class=\"item-title\">Views</span>\n            <span class=\"item-value\">${image.views}</span>\n          </div>\n          <div class=\"footer-item\">\n            <span class=\"item-title\">Comments</span>\n            <span class=\"item-value\">${image.comments}</span>\n          </div>\n          <div class=\"footer-item\">\n            <span class=\"item-title\">Downloads</span>\n            <span class=\"item-value\">${image.downloads}</span>\n          </div>\n        </div>\n        </a>\n    </li>`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', html);\n\n  lightbox.refresh();\n};\n\nexport const toast = (message, type) => {\n  if (type == 'error') {\n    iziToast.error({ message });\n  }\n\n  if (type == 'success') {\n    iziToast.success({ message });\n  }\n};\n\nexport const showLoader = () => (loader.style.display = 'block');\n\nexport const hideLoader = () => (loader.style.display = 'none');\n","import iziToast from 'izitoast';\nimport findPhotos from './js/pixaby-api';\nimport {\n  renderGallery,\n  toast,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\ntry {\n  const form = document.querySelector('form');\n\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n\n    const query = form.elements.search.value.trim();\n\n    if (!query) {\n      toast(\"Query mustn't be empty\", 'error');\n      return;\n    }\n\n    showLoader();\n    const apiResponse = await findPhotos(query);\n    hideLoader();\n    renderGallery(apiResponse?.hits ?? []);\n    form.reset();\n  });\n} catch (e) {\n  toast(e.message, 'error');\n}\n"],"names":["API_KEY","url","findPhotos","search","options","queryString","searhUrl","notFound","lightbox","SimpleLightbox","loader","iziToast","renderGallery","images","gallery","html","image","toast","message","type","showLoader","hideLoader","form","e","query","apiResponse"],"mappings":"wvBAAA,MAAMA,EAAU,qCACVC,EAAM,4BAENC,EAAa,MAAMC,GAAU,CACjC,MAAMC,EAAU,CACd,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEQE,EAAc,IAAI,gBAAgBD,CAAO,EAAE,SAAQ,EACnDE,EAAWL,EAAMI,EAEvB,OADiB,MAAM,MAAMC,CAAQ,GACrB,MAClB,ECXMC,EACJ,2EAEIC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,gBAAiB,MACjB,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEKC,EAAS,SAAS,cAAc,SAAS,EAE/CC,EAAS,SAAS,CAChB,SAAU,WACV,aAAc,UACd,cAAe,UACjB,CAAC,EAEM,MAAMC,EAAgBC,GAAU,CACrC,GAAIA,EAAO,QAAU,EAAG,CACtBF,EAAS,MAAM,CACb,QAASJ,EACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,MAAMO,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAAOF,EACV,IACCG,GACE;AAAA,wCACgCA,EAAM,aAAa;AAAA;AAAA;AAAA,uBAGpCA,EAAM,YAAY;AAAA,uBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uCAKMA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,uCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,UAKjD,EACA,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAI,EAE5CP,EAAS,QAAO,CAClB,EAEaS,EAAQ,CAACC,EAASC,IAAS,CAEpCR,EAAS,MAAM,CAAE,QAAAO,CAAO,CAAE,CAM9B,EAEaE,EAAa,IAAOV,EAAO,MAAM,QAAU,QAE3CW,EAAa,IAAOX,EAAO,MAAM,QAAU,OC7ExD,GAAI,CACF,MAAMY,EAAO,SAAS,cAAc,MAAM,EAE1CA,EAAK,iBAAiB,SAAU,MAAMC,GAAK,CACzCA,EAAE,eAAc,EAEhB,MAAMC,EAAQF,EAAK,SAAS,OAAO,MAAM,OAEzC,GAAI,CAACE,EAAO,CACVP,EAAM,yBAA0B,OAAO,EACvC,MACD,CAEDG,IACA,MAAMK,EAAc,MAAMvB,EAAWsB,CAAK,EAC1CH,IACAT,GAAca,GAAA,YAAAA,EAAa,OAAQ,CAAA,CAAE,EACrCH,EAAK,MAAK,CACd,CAAG,CACH,OAASC,EAAG,CACVN,EAAMM,EAAE,OAAgB,CAC1B"}